[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Extend function timeout for AI streaming endpoints
# Default is 10s, Pro tier supports up to 26s for standard functions
# Background functions support up to 15 minutes but aren't suitable for streaming
[functions]
  # Set directory for serverless functions
  directory = ".netlify/functions"

# Specific function configuration for AI routes
[[edge_functions]]
  path = "/api/ai/*"
  # Note: Edge functions have a 50 second limit which helps with streaming
